apply plugin: "java"

sourceCompatibility = 1.8
targetCompatibility = 1.8

sourceSets.main.java.srcDirs = ["src/main/java"]
sourceSets.main.resources.srcDirs = ["libs/linux32", "libs/linux64",
                                      "libs/macosx32", "libs/macosx64","libs/windows32", "libs/windows64", "libs/openal"]

dependencies {
    testImplementation "com.badlogicgames.gdx:gdx-jnigen:1.9.10"
    compile libraries.sdl

    if(findProject(":arc-core") != null){
        testImplementation project(":arc-core")
    }else{
        testImplementation project(":Arc:arc-core")
    }
}

task deleteJniFolder(type: Delete) {
    delete "jni"
    delete "docs"
}

clean.dependsOn(deleteJniFolder)

task sdlnatives(dependsOn: classes, type: JavaExec){
    main = 'NativesBuild'
    classpath = sourceSets.test.runtimeClasspath
    standardInput = System.in
}