apply plugin: "java"
apply from: "jnibuilds.gradle"

buildscript{
    repositories {
        jcenter()
        mavenCentral()
        maven { url "https://oss.sonatype.org/content/repositories/releases/" }
    }
    dependencies{
        classpath "com.badlogicgames.gdx:gdx-jnigen:1.9.10"
    }
}

sourceCompatibility = 1.8
targetCompatibility = 1.8

sourceSets.main.resources.srcDirs = [ "res/",
                                      "libs/linux32", "libs/linux64",
                                      "libs/macosx32", "libs/macosx64",
                                      "libs/windows32", "libs/windows64",]

repositories {
    mavenCentral()
    maven { url "https://oss.sonatype.org/content/repositories/snapshots/" }
    maven { url "https://oss.sonatype.org/content/repositories/releases/" }
}

task deleteJniFolder(type: Delete) {
    delete "jni"
    delete "docs"
}

clean.dependsOn(deleteJniFolder)

task linuxNatives(dependsOn: classes){
    doLast{
        buildNatives('build-linux', 'system-SDL2');
    }
}

task windowsNatives(dependsOn: classes){
    doLast{
        buildNatives('build-windows', 'system-SDL2');
    }
}

task OSXNatives(dependsOn: classes){
    doLast{
        buildNatives('build-OSX', 'system-SDL2');
    }
}

task allNatives(dependsOn: classes){
    doLast{
        buildNatives('build-linux', 'build-windows', 'build-OSX');
    }
}